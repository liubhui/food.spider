package com.food.spider;import com.food.framework.work.*;import com.food.spider.spider.SpiderHandler;import com.food.spider.work.SpiderTask;import com.food.spider.work.SpiderWorker;import java.util.*;/** * Created by user on 16-12-3. */public class Main {    public static void main(String[] args) {        //5个线程        int threadCount = 3;        WorkDispatch workDispatch = new WorkDispatch(TaskGroup.getInstance(), WorkerGroup.getInstance());        //初始化工作组        for (int i = 0; i < threadCount; i++) {            workDispatch.addWorker(new SpiderWorker());        }        //初始化任务列表        SpiderHandler spiderHandler = new SpiderHandler();        Map<String, String> districtChannelMap = spiderHandler.getDistrictChannelMap();        //街道列表        Iterator<Map.Entry<String, String>> entries = districtChannelMap.entrySet().iterator();        while (entries.hasNext()) {            workDispatch.addTask(new SpiderTask(entries.next()));        }        workDispatch.dispatch();    }}